---
title: 20201219の調べ
date: 2020-12-19 18:12:59
tags:
---

## MySQL関連
- [SELECT \.\.\. FOR UPDATE同士でデッドロックさせる \- かみぽわーる](https://blog.kamipo.net/entry/2020/12/15/213359)
    - 知らなかった。
    - 確かに、ロックを取るのにも時間がかかるから、SELECT FOR UPDATEでもデッドロックはあり得るな
    - FORCE INDEXで使用するindexを故意に別々にして、デッドロックを起こしている例

## Docker 関連
- [【Go言語】自作コンテナ沼。スクラッチでミニDockerを作ろう \- カミナシ開発者ブログ](https://kaminashi-developer.hatenablog.jp/entry/dive-into-swamp-container-scratch)
    - mini dockerを作ってみるというもの
    - Namespaces, Cgroupの仕組みが気になってきた


- Dockerのコア技術がLinux Kernelの技術だから、Docker imageのベースは全部Linuxのはずだよね？
    - Windows OSがベースのものはないはず？
        - [Windows base OS images \- Docker Hub](https://hub.docker.com/_/microsoft-windows-base-os-images)
        - これは何だ
        - でも`Windows requires the host OS version to match the container OS version`なので、WindowsのDocker実装があるということかな
            - [Windowsコンテナのリバース エンジニアリングから分かったこと](https://unit42.paloaltonetworks.jp/what-i-learned-from-reverse-engineering-windows-containers/)

- [Docker Internals \-\- Docker Saigon](http://docker-saigon.github.io/post/Docker-Internals/)
    - docker internalのまとめ
    - リソース（cpu, memory)の分離・制御
    - Networking
        - むずい、よくわからん
    - Security
        - it was omitted
    - Container Types
        - System Containers
        - App Containers 
        - Pods : hostとは分離しているが、サブグループとしてPIDとかネットワークなどを共有し得る
    - Images & Layers
        - UFS
        - ここのFSもいくつか種類があり、pro/conある
    - Container Format
        - containerd : by Docker
        - OCI
        - AppC by CoreOS : あったな。ここの標準化のところの競り合いだったのか